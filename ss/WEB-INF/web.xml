<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://java.sun.com/xml/ns/j2ee" 
		 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.4" 
		 xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">
  	<display-name>WebApp</display-name>
	<context-param>
		<param-name>webAppRootKey</param-name>
		<param-value>WebApp.root</param-value>
	</context-param>
    <context-param>
		<param-name>config-file</param-name>
		<param-value>/quartz.properties</param-value>
	</context-param>
	<context-param>
		<param-name>shutdown-on-unload</param-name>
		<param-value>true</param-value>
	</context-param>
	<context-param>
		<param-name>log4jConfigLocation</param-name>
		<param-value>classpath:/log4j.properties</param-value>
	</context-param>
	<context-param>
		<param-name>contextConfigLocation</param-name>
		<param-value>classpath*:/applicationContext.xml</param-value>
	</context-param>
	
	<filter>
	  <filter-name>SetCharacterEncoding</filter-name>
	  <filter-class>com.cabletech.commons.web.SystemFilter</filter-class>
	  <init-param>
	    <param-name>encoding</param-name>
	    <param-value>GBK</param-value>
	  </init-param>
	</filter>
	<filter>
	  <filter-name>NoSession</filter-name>
	  <filter-class>com.cabletech.commons.web.NoSessionFilter</filter-class>
	</filter>
	<filter>
	  <filter-name>DisplayFilter</filter-name>
	  <filter-class>com.cabletech.commons.web.DisplayFillter</filter-class>
	</filter>
	<filter>
		<filter-name>LogFilter</filter-name>
		<filter-class>com.cabletech.commons.web.LogFilter</filter-class>
	</filter>
	<filter-mapping>
		<filter-name>LogFilter</filter-name>
		<url-pattern>*.do</url-pattern>
	</filter-mapping>
	<filter-mapping>
		<filter-name>LogFilter</filter-name>
		<url-pattern>*.jsp</url-pattern>
	</filter-mapping>
	<filter-mapping>
	  <filter-name>SetCharacterEncoding</filter-name>
	  <url-pattern>/*</url-pattern>
	</filter-mapping>
	<filter-mapping>
	  <filter-name>DisplayFilter</filter-name>
	  <url-pattern>*.jsp</url-pattern>
	</filter-mapping>
	<filter-mapping>
	  <filter-name>NoSession</filter-name>
	  <url-pattern>*.do</url-pattern>
	</filter-mapping>
	<filter-mapping>
	  <filter-name>NoSession</filter-name>
	  <url-pattern>*.jsp</url-pattern>
	</filter-mapping>
	
	<listener>
		<listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
	</listener>
	<listener>
		<listener-class>org.springframework.web.util.Log4jConfigListener</listener-class>
	</listener>
	<listener>
    	<listener-class>org.apache.axis.transport.http.AxisHTTPSessionListener</listener-class>
    </listener>
    <listener>
	    <listener-class>org.apache.commons.fileupload.servlet.FileCleanerCleanup</listener-class>
  	</listener>
	<listener>
		<listener-class>org.springframework.web.util.IntrospectorCleanupListener</listener-class>
	</listener>
    <servlet>
		<servlet-name>webAppUtils</servlet-name>
		<servlet-class>com.cabletech.commons.web.WebAppUtils</servlet-class>
		<init-param>
			<param-name>approverGroupId</param-name>
			<param-value>00025</param-value>
		</init-param>
		<init-param>
			<param-name>online_period</param-name>
			<param-value>10</param-value>
		</init-param>
		<load-on-startup>200</load-on-startup>
	</servlet>
	
	<!-- 2010-04-17 yangjun START -->
	<servlet>
		<servlet-name>ScheduleAutoLoadServlet</servlet-name>
		<servlet-class>com.cabletech.schedule.web.ScheduleAutoLoadServlet</servlet-class>
		<load-on-startup>210</load-on-startup>
	</servlet>
	<servlet>
	  <servlet-name>MobileServlet</servlet-name>
	  <servlet-class>com.cabletech.commons.web.MobileServlet</servlet-class>
	</servlet>
	<!-- 2010-04-17 yangjun END -->
	
	<servlet>
		<servlet-name>AxisServlet</servlet-name>
		<servlet-class>org.apache.axis.transport.http.AxisServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>AdminServlet</servlet-name>
		<servlet-class>org.apache.axis.transport.http.AdminServlet</servlet-class>
		<load-on-startup>100</load-on-startup>
	</servlet>
	<servlet-mapping>
		<servlet-name>AxisServlet</servlet-name>
		<url-pattern>/servlet/AxisServlet</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>AxisServlet</servlet-name>
		<url-pattern>*.jws</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>AxisServlet</servlet-name>
		<url-pattern>/services/*</url-pattern>
	</servlet-mapping>
	<servlet>
		<servlet-name>SOAPMonitorService</servlet-name>
		<servlet-class>org.apache.axis.monitor.SOAPMonitorService</servlet-class>
		<init-param>
			<param-name>SOAPMonitorPort</param-name>
			<param-value>5001</param-value>
		</init-param>
		<load-on-startup>100</load-on-startup>
	</servlet>
	<servlet-mapping>
		<servlet-name>SOAPMonitorService</servlet-name>
		<url-pattern>/SOAPMonitor</url-pattern>
	</servlet-mapping>
	<!-- Asix web service 发布 -->
	<servlet>
	  <servlet-name>DisplayChart</servlet-name>
	  <servlet-class>org.jfree.chart.servlet.DisplayChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>showWatchChart</servlet-name>
	  <servlet-class>com.cabletech.watchinfo.util.ShowWatchChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowChart</servlet-name>
	  <servlet-class>com.cabletech.statistics.utils.ShowChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowPlanExeChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowPlanExeChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowRealTimeChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowRealTimeChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowHistoryChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowHistoryChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowConHistoryChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowConHistoryChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowRegionHistoryChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowRegionHistoryChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowPlanProgressChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowPlanProgressChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowPmCompHChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowPmCompHChart</servlet-class>
	</servlet>  
	<servlet>
	  <servlet-name>ShowComCompHChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowComCompHChart</servlet-class>
	</servlet> 
	<servlet>
	  <servlet-name>ShowPmCompVChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowPmCompVChart</servlet-class>
	</servlet>  
	<servlet>
	  <servlet-name>ShowComCompVChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowComCompVChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowConMonthlyStat</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowConMonthlyStat</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowRegionMonthlyStat</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowRegionMonthlyStat</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowPmMonthWorkdaysChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowPmMonthWorkdaysChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowPmMonthlyCompHChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowPmMonthlyCompHChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowVisitorsTrafficChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowVisitorsTrafficChart</servlet-class>
	</servlet> 
	<servlet>
	  <servlet-name>ShowSubTrafficChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowSubTrafficChart</servlet-class>
	</servlet>   
	<servlet>
	  <servlet-name>ShowPmMonthlyCompVChart</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowPmMonthlyCompVChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>ShowHistorySMChart</servlet-name>
	  <servlet-class>com.cabletech.analysis.util.ShowHistorySMChart</servlet-class>
	</servlet>  
	<servlet>
	  <servlet-name>ShowCMVCompMonthlyStat</servlet-name>
	  <servlet-class>com.cabletech.planstat.util.ShowCMVCompMonthlyStat</servlet-class>
	</servlet>    
	<servlet>
		<servlet-name>ShowContrastChart</servlet-name>
		<servlet-class>com.cabletech.analysis.util.ContrastChart</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>ShowMonthlyOnlineNum</servlet-name>
		<servlet-class>com.cabletech.exterior.util.HistoryOnlineNumChart</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>servletgis</servlet-name>
	  <servlet-class>com.cabletech.lineinfo.servlet.ServletGIS</servlet-class>
	</servlet>
	<servlet>
	  <servlet-name>action</servlet-name>
	  <servlet-class>org.apache.struts.action.ActionServlet</servlet-class>
	  <init-param>
	    <param-name>config</param-name>
	    <param-value>
	    /WEB-INF/struts-config.xml,
	    /WEB-INF/struts-stat.xml,
	    /WEB-INF/struts-material-config.xml,
	    /WEB-INF/struts-remedy-workflow-config.xml,
	    /WEB-INF/struts-remedy-config.xml,
	    /WEB-INF/struts-sendtask-config.xml,
	    /WEB-INF/struts-resource.xml,
	    /WEB-INF/struts-trouble-config.xml,
	    /WEB-INF/struts-cut-config.xml,
	    /WEB-INF/struts-commons-config.xml,
	    /WEB-INF/struts-frames-config.xml,
	    /WEB-INF/struts-hiddanger-config.xml,
	    /WEB-INF/struts-acceptance-config.xml,
	    /WEB-INF/struts-watch-config.xml,	  
	    /WEB-INF/struts-specialplan-config.xml,
	    /WEB-INF/struts-drill-config.xml,
	    /WEB-INF/struts-maintenance-config.xml,
	    /WEB-INF/struts-safeguard-config.xml,
	    /WEB-INF/struts-sendmessage-config.xml,
	    /WEB-INF/struts-usermail-config.xml,
	    /WEB-INF/struts-userlink-config.xml,
	    /WEB-INF/struts-dispatchtask-config.xml,
	    /WEB-INF/struts-project-config.xml,
	    /WEB-INF/struts-schedule-config.xml,
	    /WEB-INF/struts-wap-common-config.xml,
	    /WEB-INF/struts-dispatchtask-config.xml,
	   	/WEB-INF/struts-sys-config.xml,
	   	/WEB-INF/struts-quest-config.xml,
	   	/WEB-INF/struts-overhaul-config.xml,
	   	/WEB-INF/struts-expenses-config.xml,
	   	/WEB-INF/struts-appraise-config.xml,
	   	/WEB-INF/struts-sso-config.xml
	    </param-value>
	  </init-param>
	  <init-param>
	    <param-name>debug</param-name>
	    <param-value>2</param-value>
	  </init-param>
	  <load-on-startup>2</load-on-startup>
	</servlet>
	<servlet-mapping>
	  <servlet-name>action</servlet-name>
	  <url-pattern>*.do</url-pattern>
	</servlet-mapping>
  
	<session-config>
	  <session-timeout>120</session-timeout><!-- 默认设置为120分钟 -->
	</session-config>
	<!-- 附件上传 -->
	<servlet>
		<display-name>UploadServlet</display-name>
		<servlet-name>UploadServlet</servlet-name>
		<servlet-class>com.cabletech.commons.upload.UploadServlet</servlet-class>
		<init-param>
			<param-name>AllowedExtensionsFile</param-name>
			<param-value></param-value>
		</init-param>
		<init-param>
			<param-name>DeniedExtensionsFile</param-name>
			<param-value>
				html|htm|php|php2|php3|php4|php5|phtml|pwml|inc|asp|aspx|ascx|jsp|cfm|cfc|pl|bat|exe|com|dll|vbs|js|reg|cgi|htaccess|asis|ftl
			</param-value>
		</init-param>
		<init-param>
			<param-name>AllowedExtensionsImage</param-name>
			<param-value>jpg|gif|jpeg|png|bmp</param-value>
		</init-param>
		<init-param>
			<param-name>DeniedExtensionsImage</param-name>
			<param-value></param-value>
		</init-param>
	</servlet>
	<servlet-mapping>
		<servlet-name>UploadServlet</servlet-name>
		<url-pattern>/UploadServlet</url-pattern>
	</servlet-mapping>
	
	<servlet>
		<display-name>imageServlet</display-name>
		<servlet-name>imageServlet</servlet-name>
		<servlet-class>com.cabletech.commons.upload.ImageServlet</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>imageServlet</servlet-name>
		<url-pattern>/imageServlet</url-pattern>
	</servlet-mapping>
	<!-- 附件上传 -->
	
	<!-- ckeditor上传 -->
	<servlet>
		<servlet-name>SimpleUploader</servlet-name>
		<servlet-class>com.cabletech.commons.ckeditor.CKEditorUploadServlet</servlet-class>
		<init-param>
			<param-name>baseDir</param-name>
			<param-value>/UserFiles/</param-value>
		</init-param>
		<init-param>
			<param-name>debug</param-name>
			<param-value>false</param-value>
		</init-param>
		<init-param>
			<param-name>enabled</param-name>
			<param-value>true</param-value>
		</init-param>
		<init-param>
			<param-name>AllowedExtensionsFile</param-name>
			<param-value></param-value>
		</init-param>
		<init-param>
			<param-name>DeniedExtensionsFile</param-name>
			<param-value>
				html|htm|php|php2|php3|php4|php5|phtml|pwml|inc|asp|aspx|ascx|jsp|cfm|cfc|pl|bat|exe|com|dll|vbs|js|reg|cgi|htaccess|asis|ftl
			</param-value>
		</init-param>
		<init-param>
			<param-name>AllowedExtensionsImage</param-name>
			<param-value>jpg|gif|jpeg|png|bmp</param-value>
		</init-param>
		<init-param>
			<param-name>DeniedExtensionsImage</param-name>
			<param-value></param-value>
		</init-param>
		<init-param>
			<param-name>AllowedExtensionsFlash</param-name>
			<param-value>swf|fla</param-value>
		</init-param>
		<init-param>
			<param-name>DeniedExtensionsFlash</param-name>
			<param-value></param-value>
		</init-param>
		<load-on-startup>0</load-on-startup>
	</servlet>

	<servlet-mapping>
		<servlet-name>SimpleUploader</servlet-name>
		<url-pattern>/ckeditor/uploader</url-pattern>
	</servlet-mapping>
	<!-- ckeditor上传 -->
	
	<!-- 流程部署 -->
	<servlet>
		<display-name>DeployServlet</display-name>
		<servlet-name>DeployServlet</servlet-name>
		<servlet-class>com.cabletech.commons.web.DeployServlet</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>DeployServlet</servlet-name>
		<url-pattern>/deploy</url-pattern>
	</servlet-mapping>
	<!-- 流程部署 -->
	<!-- 2010-04-17 yangjun START -->
	<servlet-mapping>
		<servlet-name>MobileServlet</servlet-name>
		<url-pattern>/m</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>ScheduleAutoLoadServlet</servlet-name>
		<url-pattern>/schedule</url-pattern>
	</servlet-mapping>
	<!-- 2010-04-17 yangjun END -->
	
	<servlet-mapping>
	  <servlet-name>DisplayChart</servlet-name>
	  <url-pattern>/servlet/DisplayChart</url-pattern>
	</servlet-mapping>
	
	<servlet-mapping>
	  <servlet-name>showWatchChart</servlet-name>
	  <url-pattern>/showWatchChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowChart</servlet-name>
	  <url-pattern>/ShowChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowPlanExeChart</servlet-name>
	  <url-pattern>/ShowPlanExeChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowRealTimeChart</servlet-name>
	  <url-pattern>/ShowRealTimeChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowHistoryChart</servlet-name>
	  <url-pattern>/ShowHistoryChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowConHistoryChart</servlet-name>
	  <url-pattern>/ShowConHistoryChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowRegionHistoryChart</servlet-name>
	  <url-pattern>/ShowRegionHistoryChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowPlanProgressChart</servlet-name>
	  <url-pattern>/ShowPlanProgressChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowPmCompHChart</servlet-name>
	  <url-pattern>/ShowPmCompHChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowComCompHChart</servlet-name>
	  <url-pattern>/ShowComCompHChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowPmCompVChart</servlet-name>
	  <url-pattern>/ShowPmCompVChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowComCompVChart</servlet-name>
	  <url-pattern>/ShowComCompVChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>ShowConMonthlyStat</servlet-name>
	 	<url-pattern>/ShowConMonthlyStat</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>ShowRegionMonthlyStat</servlet-name>
		<url-pattern>/ShowRegionMonthlyStat</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowPmMonthWorkdaysChart</servlet-name>
	  <url-pattern>/ShowPmMonthWorkdaysChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowPmMonthlyCompVChart</servlet-name>
	  <url-pattern>/ShowPmMonthlyCompVChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowPmMonthlyCompHChart</servlet-name>
	  <url-pattern>/ShowPmMonthlyCompHChart</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
	  <servlet-name>ShowVisitorsTrafficChart</servlet-name>
	  <url-pattern>/ShowVisitorsTrafficChart</url-pattern>
	</servlet-mapping>  
	<servlet-mapping>
	  <servlet-name>ShowSubTrafficChart</servlet-name>
	  <url-pattern>/ShowSubTrafficChart</url-pattern>
	</servlet-mapping>   
	<servlet-mapping>
	  <servlet-name>ShowHistorySMChart</servlet-name>
	  <url-pattern>/ShowHistorySMChart</url-pattern>
	</servlet-mapping> 
	<servlet-mapping>
	  <servlet-name>ShowCMVCompMonthlyStat</servlet-name>
	  <url-pattern>/ShowCMVCompMonthlyStat</url-pattern>
	</servlet-mapping>           
	<servlet-mapping>
		<servlet-name>ShowContrastChart</servlet-name>
		<url-pattern>/ShowContrastChart</url-pattern>
	</servlet-mapping> 
	<servlet-mapping>
		<servlet-name>ShowMonthlyOnlineNum</servlet-name>
		<url-pattern>/ShowMonthlyOnlineNum</url-pattern>
	</servlet-mapping>             
	
  
	<mime-mapping> 
		<extension>xls</extension> 
		<mime-type>application/vnd.ms-excel</mime-type> 
	</mime-mapping> 
	<mime-mapping> 
		<extension>pdf</extension>
		<mime-type>application/pdf</mime-type> 
	</mime-mapping>
	<mime-mapping>
	    <extension>wsdl</extension>
	    <mime-type>text/xml</mime-type>
	</mime-mapping>
	<mime-mapping>
	    <extension>xsd</extension>
	    <mime-type>text/xml</mime-type>
	</mime-mapping>
	<mime-mapping> 
	 <extension>zip</extension> 
	 <mime-type>application/zip</mime-type> 
	</mime-mapping>
	
	<welcome-file-list>
	    <welcome-file>/mainweb.htm</welcome-file>
	</welcome-file-list>

	<jsp-config>
		<taglib>
			<taglib-uri>ctagslib</taglib-uri>
			<taglib-location>/WEB-INF/tlds/ctags.tld</taglib-location>
		</taglib>
		<taglib>
		    <taglib-uri>cabletechtag</taglib-uri>
		    <taglib-location>/WEB-INF/tlds/cabletechtags.tld</taglib-location>
		</taglib>
		<taglib>
		    <taglib-uri>templatetag</taglib-uri>
		   <taglib-location>/WEB-INF/tlds/cabletechtemplatetags.tld</taglib-location>
		</taglib>
		<!-- 以下标签很少使用 -->
		<taglib>
		    <taglib-uri>/WEB-INF/extremecomponents.tld</taglib-uri>
	  	    <taglib-location>/WEB-INF/tlds/extremecomponents.tld</taglib-location>
		</taglib>
		<taglib>
		    <taglib-uri>/WEB-INF/ajaxtags.tld</taglib-uri>
		    <taglib-location>/WEB-INF/tlds/ajaxtags.tld</taglib-location>
		</taglib>  
		<taglib>
		    <taglib-uri>newcabletechtags</taglib-uri>
		    <taglib-location>/WEB-INF/tlds/newcabletechtags.tld</taglib-location>
		</taglib>
	</jsp-config>  
</web-app>
